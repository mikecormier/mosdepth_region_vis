<html>

<head>
    
    <meta charset="utf-8" \>
    <!-- <title>$title</title> -->
    <title>"Mosdepth Region Report"</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" type="text/javascript"></script>

    <!-- Load jquery  datatable -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.20/r-2.2.3/sc-2.0.1/sl-1.3.1/datatables.min.css"/>
    <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.20/r-2.2.3/sc-2.0.1/sl-1.3.1/datatables.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css">

    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

    <!-- Load plotly.js into the DOM -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    
    <style>
        
        .big_div {
          height: 110vh;
        }

        .row-bordered:after {
            content: "";
            display: block;
            border-bottom: 1px solid #ccc;
            margin: 0 15px;
        }

    </style>

</head>

<body> 
    <h1> Mosdepth regional coverage info </h1>
        <div class="container-fluid p-3">
        <div class="row pt-3">
            <div class="col-4">
                <div class="form-group">
                    <label for="regionfilter">Available Regions</label>
                    <select class="form-control" id="regionfilter">
                         $region_references
                    </select>
                </div>
            </div>
            <div class="col-2"></div>
            <div class="col-6 pt-6">
                <h4> Number of regions = $region_num</h4>
            </div>
        </div>
    <hr>
    <div class="container-fluid p-3">
        <div class="row pt-3">
            <div class="col-6">
                <h4 id="region_header"> REGION: </h4>
                <div id="div_1"></div>
            </div>
            <div class="col-sm-6">
                <div id="div_2"></div>
            </div>
        </div>
        <div class="row pt-3">
            <div class="col-6">
                <h4>      </h4>
                <div id="div_3"></div>
            </div>
            <div class="col-6">
                <div id="div_4"></div>
            </div>
        </div>
        <div class="row pt-3">
            <div class="col-12">
                <h4>  </h4>
                <div class=big_div id="div_5"></div>
            </div>
        </div>

        <div id="low_covearge_selection" class="row">
            <div class="col-10">
            </div>
            <div class="col-2">
                <h5><u> Low Coverage Bars </u></h5>
                <input id="low_cov_button" type="checkbox" checked data-toggle="toggle" data-on="Displaying" data-off="NOT Dispalying"  data-size="small" data-onstyle="danger", data-offstyle="info">
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <h4>  </h4>
                <div class=big_div id="div_6"></div>
            </div>
        </div>
        <div class="row h-10">
            <div class=row-boardered></div>
        </div>
    </div>
    <a href="#top" class="btn btn-outline-primary">Back to Top</a>
    <hr style="color:blue;background-color:black;border-width:2.5">

</body>
                

<script>

    var low_cov_count = 0

    function selectRegion(region_name) {

        var header = document.getElementById("region_header")

        $plotly_plots

    };




    $("#low_cov_button").change(function() {

        toggled_on = $(this).prop('checked')
        var div = document.getElementById("div_6");
        var update = {}
        for (i = 0; i < low_cov_count; i++){
            update[`shapes[${i}].visible`] = toggled_on;
        };   
        Plotly.relayout(div,update)
    });



    jQuery(document).ready(function(){
        selectRegion('$first_region')
    });


    //If the Selected Transcript filter changes, update data
    $("#regionfilter").on('change', function(e) {
        var selectedValue = this.value
        selectRegion(selectedValue)

    });

    

</script>

</html>

